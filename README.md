# vetislog
Модуль  тестирования доступности  vetis.api 


Краткая инструкция 

1. Клонировать репозитарий 
2. В дирректории windows проект Microsoft Visual Studio, открыть  этот проект и скомпилировать в исполняемы файл.
3. Настроить вызов модуля  поанировщиком задания.


Модуль представляет собой утилиту, которая должна быть запущена
регулярно  - 1 раз в минуту  через планировщик заданий windows.
С документацией по планировщику задач можно ознакомиться 
по следующей ссылке:

https://technet.microsoft.com/ru-ru/library/cc748993(v=ws.11).aspx

или 

https://www.osp.ru/winitpro/2012/08/13033295/


Для создания задания с помощью командной строки нужно открыть  окно 
командной строки. 

Для этого в меню Пуск последовательно 
выберите пункты Все программы, Стандартные и Командная строка.

Общий вид команды:

        schtasks /Create [/S <system> [/U <username> [/P [<password>]]]]
        [/RU <username> [/RP <password>]] /SC <schedule> [/MO <modifier>] [/D <day>]
        [/M <months>] [/I <idletime>] /TN <taskname> /TR <taskrun> [/ST <starttime>]
        [/RI <interval>] [ {/ET <endtime> | /DU <duration>} [/K] [/XML <xmlfile>] [/V1]]
        [/SD <startdate>] [/ED <enddate>] [/IT] [/Z] [/F]

Чтобы просмотреть справку для этой команды, введите:

schtasks /Create /?


 Синтаксис

schtasks /create /tn имя_задания /tr выполнение_задания /sc расписание [/mo модификатор] [/d день] [/m месяц[,месяц...] [/i время_простоя] [/st время_запуска] [/sd дата_запуска] [/ed дата_окончания] [/s компьютер [/u [домен\]пользователь  /p пароль]] [/ru {[домен\]пользователь | "System"} [/rp  пароль]] /?
Параметры

/tn имя_задания
    Определяет имя для задания. 

/tr выполнение_задания
    Указывает программу или команду, которая выполняет задание. Введите полный путь и имя исполняемого файла, файла сценария или пакетного файла. Если пропущен путь, программа SchTasks.exe предполагает, что файл находится в системном_корневом_каталоге\System32. 

/sc расписание
    Задает тип расписания. Допустимыми значениями являются ЕЖЕМИНУТНО, ЕЖЕЧАСНО, ЕЖЕДНЕВНО, ЕЖЕНЕДЕЛЬНО, ЕЖЕМЕСЯЧНО, ОДНОКРАНО, ПРИ ЗАПУСКЕ, ПРИ ВХОДЕ В СИСТЕМУ, ПРИ ПРОСТОЕ.


 Следующая команда задает выполнение   каждую  минуту. 
Т. к. в команде не учтена дата запуска и время, задание запускается через 1 минуту после завершения команды
 и выполняется каждую  минуту соответственно при работе системы. 

Следует отметить, что исходный файл может
 находится на удаленном компьютере, 
а задание назначается и выполняется на локальном компьютере.




schtasks /create /sc ежеминутно  /tn"Модуль Vetis.API"  /tr  <путь к модулю>

Спасибо автору:  
https://www.celitel.info/klad/bathelp/schtasks.htm

